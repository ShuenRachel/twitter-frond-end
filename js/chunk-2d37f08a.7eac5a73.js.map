{"version":3,"sources":["webpack:///./src/components/SettingForm.vue?7ffc","webpack:///src/components/SettingForm.vue","webpack:///./src/components/SettingForm.vue?da61","webpack:///./src/components/SettingForm.vue","webpack:///./src/views/UserSetting.vue?d3ea","webpack:///./src/views/UserSetting.vue?32e4","webpack:///src/views/UserSetting.vue","webpack:///./src/views/UserSetting.vue?53db","webpack:///./src/views/UserSetting.vue","webpack:///./src/components/SettingForm.vue?c203"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","registerData","expression","attrs","domProps","on","$event","errorMessage","submitStatus","target","composing","$set","class","error","length","currentPathName","isProcessing","stopPropagation","preventDefault","handleSubmit","apply","arguments","_e","staticRenderFns","mixins","props","initIsProcessing","type","required","initSubmitStatus","initUserData","data","account","password","checkPassword","email","computed","mapState","watch","newValue","console","methods","trim","$emit","fetehCurrentUser","created","component","currentUser","afterFormSubmit","components","SettingForm","formData","userAPI","response","title"],"mappings":"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","file":"js/chunk-2d37f08a.7eac5a73.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-panel\"},[_c('div',{staticClass:\"form-wrapper\"},[_c('div',{staticClass:\"input-gp\"},[_c('label',{staticClass:\"input-label\"},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerData.account),expression:\"registerData.account\"}],staticClass:\"input-field\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.registerData.account)},on:{\"click\":function($event){_vm.errorMessage = '';\n          _vm.submitStatus = '';},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.registerData, \"account\", $event.target.value)}}}),_c('div',{staticClass:\"input-line line\",class:{\n          error:\n            _vm.errorMessage === 'account' ||\n            _vm.submitStatus === 'Account already existed!' ||\n            _vm.submitStatus === 'Account already existed.',\n        }}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'account'),expression:\"errorMessage === 'account'\"}],staticClass:\"input-warning\"},[_vm._v(\"不可有空欄位\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.submitStatus === 'Account already existed!' ||\n          _vm.submitStatus === 'Account already existed.'\n        ),expression:\"\\n          submitStatus === 'Account already existed!' ||\\n          submitStatus === 'Account already existed.'\\n        \"}],staticClass:\"input-warning\"},[_vm._v(\"帳號已註冊\")])]),_c('div',{staticClass:\"input-gp\"},[_c('label',{staticClass:\"input-label\"},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerData.name),expression:\"registerData.name\"}],staticClass:\"input-field\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.registerData.name)},on:{\"click\":function($event){_vm.errorMessage = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.registerData, \"name\", $event.target.value)}}}),_c('div',{staticClass:\"input-line line\",class:{\n          error:\n            _vm.errorMessage === 'name' ||\n            _vm.errorMessage === 'nameTooLong' ||\n            _vm.registerData.name.length > 50,\n        }}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'name'),expression:\"errorMessage === 'name'\"}],staticClass:\"input-warning\"},[_vm._v(\"不可有空欄位\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.registerData.name.length > 50),expression:\"registerData.name.length > 50\"}],staticClass:\"input-warning\"},[_vm._v(\"名字上限五十字\")])]),_c('div',{staticClass:\"input-gp\"},[_c('label',{staticClass:\"input-label\"},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerData.email),expression:\"registerData.email\"}],staticClass:\"input-field\",attrs:{\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.registerData.email)},on:{\"click\":function($event){_vm.errorMessage = '';\n          _vm.submitStatus = '';},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.registerData, \"email\", $event.target.value)}}}),_c('div',{staticClass:\"input-line line\",class:{\n          error:\n            _vm.errorMessage === 'email' ||\n            _vm.submitStatus === 'Email already existed!',\n        }}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'email'),expression:\"errorMessage === 'email'\"}],staticClass:\"input-warning\"},[_vm._v(\"不可有空欄位\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.submitStatus === 'Email already existed!'),expression:\"submitStatus === 'Email already existed!'\"}],staticClass:\"input-warning\"},[_vm._v(\"電郵已註冊\")])]),_c('div',{staticClass:\"input-gp\"},[_c('label',{staticClass:\"input-label\"},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerData.password),expression:\"registerData.password\"}],staticClass:\"input-field\",attrs:{\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.registerData.password)},on:{\"click\":function($event){_vm.errorMessage = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.registerData, \"password\", $event.target.value)}}}),_c('div',{staticClass:\"input-line line\",class:{\n          error:\n            _vm.errorMessage === 'password' ||\n            _vm.errorMessage === 'incorrectPassword',\n        }}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'password'),expression:\"errorMessage === 'password'\"}],staticClass:\"input-warning\"},[_vm._v(\"不可有空欄位\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'incorrectPassword'),expression:\"errorMessage === 'incorrectPassword'\"}],staticClass:\"input-warning\"},[_vm._v(\"請確保兩次密碼輸入正確\")])]),_c('div',{staticClass:\"input-gp\"},[_c('label',{staticClass:\"input-label\"},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.registerData.checkPassword),expression:\"registerData.checkPassword\"}],staticClass:\"input-field\",attrs:{\"type\":\"password\",\"required\":\"\"},domProps:{\"value\":(_vm.registerData.checkPassword)},on:{\"click\":function($event){_vm.errorMessage = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.registerData, \"checkPassword\", $event.target.value)}}}),_c('div',{staticClass:\"input-line line\",class:{\n          error:\n            _vm.errorMessage === 'checkPassword' ||\n            _vm.errorMessage === 'incorrectPassword',\n        }}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'checkPassword'),expression:\"errorMessage === 'checkPassword'\"}],staticClass:\"input-warning\"},[_vm._v(\"不可有空欄位\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage === 'incorrectPassword'),expression:\"errorMessage === 'incorrectPassword'\"}],staticClass:\"input-warning\"},[_vm._v(\"請確保兩次密碼輸入正確\")])])]),(_vm.currentPathName === 'user-regist')?_c('div',{staticClass:\"form-footer\"},[_c('button',{staticClass:\"btn btn-orange btn-full\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._v(\" 註冊 \")]),_c('div',{staticClass:\"link-group\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"/user/login\"}},[_vm._v(\"取消\")])],1)]):(_vm.currentPathName === 'user-setting')?_c('div',{staticClass:\"form-footer d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-orange btn-small\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._v(\" 儲存 \")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-panel\">\n    <div class=\"form-wrapper\">\n      <div class=\"input-gp\">\n        <label class=\"input-label\">帳號</label>\n        <input\n          v-model=\"registerData.account\"\n          type=\"text\"\n          class=\"input-field\"\n          required\n          @click=\"\n            errorMessage = '';\n            submitStatus = '';\n          \"\n        />\n        <div\n          class=\"input-line line\"\n          :class=\"{\n            error:\n              errorMessage === 'account' ||\n              submitStatus === 'Account already existed!' ||\n              submitStatus === 'Account already existed.',\n          }\"\n        ></div>\n        <span v-show=\"errorMessage === 'account'\" class=\"input-warning\"\n          >不可有空欄位</span\n        >\n        <span\n          v-show=\"\n            submitStatus === 'Account already existed!' ||\n            submitStatus === 'Account already existed.'\n          \"\n          class=\"input-warning\"\n          >帳號已註冊</span\n        >\n      </div>\n      <div class=\"input-gp\">\n        <label class=\"input-label\">名稱</label>\n        <input\n          v-model=\"registerData.name\"\n          type=\"text\"\n          class=\"input-field\"\n          required\n          @click=\"errorMessage = ''\"\n        />\n        <div\n          class=\"input-line line\"\n          :class=\"{\n            error:\n              errorMessage === 'name' ||\n              errorMessage === 'nameTooLong' ||\n              registerData.name.length > 50,\n          }\"\n        ></div>\n        <span v-show=\"errorMessage === 'name'\" class=\"input-warning\"\n          >不可有空欄位</span\n        >\n        <span v-show=\"registerData.name.length > 50\" class=\"input-warning\"\n          >名字上限五十字</span\n        >\n      </div>\n      <div class=\"input-gp\">\n        <label class=\"input-label\">Email</label>\n        <input\n          v-model=\"registerData.email\"\n          type=\"email\"\n          class=\"input-field\"\n          required\n          @click=\"\n            errorMessage = '';\n            submitStatus = '';\n          \"\n        />\n        <div\n          class=\"input-line line\"\n          :class=\"{\n            error:\n              errorMessage === 'email' ||\n              submitStatus === 'Email already existed!',\n          }\"\n        ></div>\n        <span v-show=\"errorMessage === 'email'\" class=\"input-warning\"\n          >不可有空欄位</span\n        >\n        <span\n          v-show=\"submitStatus === 'Email already existed!'\"\n          class=\"input-warning\"\n          >電郵已註冊</span\n        >\n      </div>\n      <div class=\"input-gp\">\n        <label class=\"input-label\">密碼</label>\n        <input\n          v-model=\"registerData.password\"\n          type=\"password\"\n          class=\"input-field\"\n          required\n          @click=\"errorMessage = ''\"\n        />\n        <div\n          class=\"input-line line\"\n          :class=\"{\n            error:\n              errorMessage === 'password' ||\n              errorMessage === 'incorrectPassword',\n          }\"\n        ></div>\n        <span v-show=\"errorMessage === 'password'\" class=\"input-warning\"\n          >不可有空欄位</span\n        ><span\n          v-show=\"errorMessage === 'incorrectPassword'\"\n          class=\"input-warning\"\n          >請確保兩次密碼輸入正確</span\n        >\n      </div>\n      <div class=\"input-gp\">\n        <label class=\"input-label\">密碼確認</label>\n        <input\n          v-model=\"registerData.checkPassword\"\n          type=\"password\"\n          class=\"input-field\"\n          required\n          @click=\"errorMessage = ''\"\n        />\n        <div\n          class=\"input-line line\"\n          :class=\"{\n            error:\n              errorMessage === 'checkPassword' ||\n              errorMessage === 'incorrectPassword',\n          }\"\n        ></div>\n        <span v-show=\"errorMessage === 'checkPassword'\" class=\"input-warning\"\n          >不可有空欄位</span\n        ><span\n          v-show=\"errorMessage === 'incorrectPassword'\"\n          class=\"input-warning\"\n          >請確保兩次密碼輸入正確</span\n        >\n      </div>\n    </div>\n    <div class=\"form-footer\" v-if=\"currentPathName === 'user-regist'\">\n      <button\n        class=\"btn btn-orange btn-full\"\n        :disabled=\"isProcessing\"\n        @click.stop.prevent=\"handleSubmit\"\n      >\n        註冊\n      </button>\n      <div class=\"link-group\">\n        <router-link to=\"/user/login\" class=\"link\">取消</router-link>\n      </div>\n    </div>\n    <div\n      class=\"form-footer d-flex justify-content-end\"\n      v-else-if=\"currentPathName === 'user-setting'\"\n    >\n      <button\n        class=\"btn btn-orange btn-small\"\n        :disabled=\"isProcessing\"\n        @click.stop.prevent=\"handleSubmit\"\n      >\n        儲存\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Toastification } from \"./../utils/mixin\";\n\nexport default {\n  mixins: [Toastification],\n  props: {\n    initIsProcessing: {\n      type: Boolean,\n      required: true,\n    },\n    initSubmitStatus: {\n      type: String,\n      required: true,\n    },\n    initUserData: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      registerData: {\n        account: \"\",\n        password: \"\",\n        checkPassword: \"\",\n        name: \"\",\n        email: \"\",\n      },\n      isProcessing: false,\n      submitStatus: \"\",\n      errorMessage: \"pending\",\n    };\n  },\n  computed: {\n    ...mapState([\"currentPathName\"]),\n  },\n  watch: {\n    initIsProcessing(newValue) {\n      this.isProcessing = newValue;\n    },\n    initSubmitStatus(newValue) {\n      this.submitStatus = newValue;\n      console.log(\"setting form:\", newValue);\n    },\n  },\n  methods: {\n    handleSubmit() {\n      // check if have empty input\n      if (!this.registerData.account.trim()) {\n        return (this.errorMessage = \"account\");\n      } else if (!this.registerData.name.trim()) {\n        return (this.errorMessage = \"name\");\n      } else if (!this.registerData.email.trim()) {\n        return (this.errorMessage = \"email\");\n      } else if (!this.registerData.password.trim()) {\n        return (this.errorMessage = \"password\");\n      } else if (!this.registerData.checkPassword.trim()) {\n        return (this.errorMessage = \"checkPassword\");\n      }\n\n      // check password correct with input check\n      if (this.registerData.password !== this.registerData.checkPassword) {\n        this.errorMessage = \"incorrectPassword\";\n        this.password = \"\";\n        this.checkPassword = \"\";\n        return;\n      }\n\n      this.$emit(\"after-form-submit\", this.registerData);\n    },\n    fetehCurrentUser() {\n      this.registerData.account = this.initUserData.account;\n      this.registerData.name = this.initUserData.name;\n      this.registerData.email = this.initUserData.email;\n    },\n  },\n  created() {\n    if (this.initUserData) {\n      this.fetehCurrentUser();\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/main.scss\";\n\n.form {\n  &-panel {\n    max-width: 642px;\n  }\n}\n\n.btn-orange {\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.btn {\n  &-full {\n    width: 100%;\n  }\n  &-small {\n    width: 116px;\n  }\n}\n\n.link-group {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  .link {\n    font-size: 18px;\n    font-weight: 700;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingForm.vue?vue&type=template&id=53ac261c&scoped=true&\"\nimport script from \"./SettingForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SettingForm.vue?vue&type=style&index=0&id=53ac261c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53ac261c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=style&index=0&id=56656f50&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-panel\"},[_c('SettingForm',{attrs:{\"init-is-processing\":_vm.isProcessing,\"init-submit-status\":_vm.submitStatus,\"init-user-data\":_vm.currentUser},on:{\"after-form-submit\":_vm.afterFormSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"setting-panel\">\n    <SettingForm\n      :init-is-processing=\"isProcessing\"\n      :init-submit-status=\"submitStatus\"\n      :init-user-data=\"currentUser\"\n      @after-form-submit=\"afterFormSubmit\"\n    />\n  </div>\n</template>\n\n<script>\nimport SettingForm from \"@/components/SettingForm.vue\";\nimport userAPI from \"./../apis/users\";\nimport { mapState } from \"vuex\";\nimport { Toastification } from \"./../utils/mixin\";\n\nexport default {\n  mixins: [Toastification],\n  components: {\n    SettingForm,\n  },\n  data() {\n    return {\n      isProcessing: false,\n      submitStatus: \"waiting\",\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async afterFormSubmit(formData) {\n      try {\n        this.isProcessing = true;\n\n        const response = await userAPI.updateSetting(\n          this.currentUser.id,\n          formData\n        );\n        const { data } = response;\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.submitStatus = \"success\";\n\n        this.ToastSuccess({\n          title: \"成功更新設定！\",\n        });\n\n        this.$router.push(\"/user/home\");\n      } catch (error) {\n        this.isProcessing = false;\n\n        if (\n          error.message === \"Email already existed!\" ||\n          error.message === \"Account already existed!\"\n        ) {\n          return (this.submitStatus = error.message);\n        }\n\n        this.ToastError({\n          title: \"無法更新設定，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/scss/main.scss\";\n\n.setting {\n  &-panel {\n    border-top: $border-setting;\n    padding-left: 16px;\n    padding-top: 30px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSetting.vue?vue&type=template&id=56656f50&scoped=true&\"\nimport script from \"./UserSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSetting.vue?vue&type=style&index=0&id=56656f50&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56656f50\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingForm.vue?vue&type=style&index=0&id=53ac261c&lang=scss&scoped=true&\""],"sourceRoot":""}