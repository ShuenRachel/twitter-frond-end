(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-684804da"],{"369c":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-follower-container"},[s("section",{staticClass:"follow-nav-tab"},[s("NavTabs")],1),s("section",{staticClass:"follow-list"},[e._l(e.followersData,(function(t){return s("FollowList",{key:t.followerId,attrs:{"init-user":t},on:{"after-follow-change":e.afterFollowChange}})})),e.isEmptyData?s("div",{staticClass:"empty-data"},[e._v("目前尚無跟隨者")]):e._e()],2)])},a=[],n=s("1da1"),i=(s("96cf"),s("d9e2"),s("8bb1")),o=s("5a4c"),c=s("4cce"),l=s("ac0d"),u={mixins:[l["a"]],components:{NavTabs:i["a"],FollowList:o["a"]},data:function(){return{followersData:[],isEmptyData:!1}},methods:{fetchFollowers:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c["a"].getFollowers(e);case 3:if(r=s.sent,"OK"===r.statusText){s.next=6;break}throw new Error(r.message);case 6:t.followersData=r.data,t.isEmptyData=!t.followersData.length,s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),t.ToastError({title:"無法取得用戶追隨者清單，請稍後再試"});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},afterFollowChange:function(){this.$emit("after-follow-change")}},created:function(){var e=this.$route.params.user_id;this.fetchFollowers(e)},beforeRouteUpdate:function(e,t,s){var r=e.params.user_id;this.fetchFollowers(r),s()}},f=u,d=s("2877"),w=Object(d["a"])(f,r,a,!1,null,null,null);t["default"]=w.exports},"5a4c":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follow-list"},[s("div",{staticClass:"tweet"},[s("div",{staticClass:"avatar-container"},[s("div",{staticClass:"tweet__user-avatar pointer",style:{backgroundImage:"url("+e.user.avatar+")"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toUserProfilePage(e.user.id)}}})]),s("div",{staticClass:"tweet__info-container"},[s("div",{staticClass:"info"},[s("span",{staticClass:"name pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toUserProfilePage(e.user.id)}}},[e._v(e._s(e.user.name))]),s("span",{staticClass:"account pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toUserProfilePage(e.user.id)}}},[e._v(e._s(e.user.account))]),s("div",{staticClass:"content"},[s("p",[e._v(" "+e._s(e.user.introduction)+" ")])])]),s("div",{staticClass:"follow-ship"},[e.user.isFollowing?s("button",{staticClass:"following",attrs:{disabled:e.isProcessing||e.user.id===e.currentUser.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteFollowing(e.user.id)}}},[e._v(" 正在跟隨 ")]):s("button",{staticClass:"follow",attrs:{disabled:e.isProcessing||e.user.id===e.currentUser.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollowing(e.user.id)}}},[e._v(" 跟隨 ")])])])])])},a=[],n=s("1da1"),i=s("5530"),o=(s("96cf"),s("d9e2"),s("4cce")),c=s("ac0d"),l=s("2f62"),u={mixins:[c["a"]],props:{initUser:{type:Object}},data:function(){return{user:{},isProcessing:!1}},computed:Object(i["a"])({},Object(l["b"])(["currentUser"])),methods:{fetchUser:function(){this.initUser.followerId?(this.user=this.initUser,this.user.id=this.initUser.followerId):this.initUser.followingId&&(this.user=this.initUser,this.user.id=this.initUser.followingId)},addFollowing:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isProcessing=!0,s.prev=1,s.next=4,o["a"].addFollowing(e);case 4:if(r=s.sent,"OK"===r.statusText){s.next=7;break}throw new Error(r.message);case 7:t.user.isFollowing=!0,t.isProcessing=!1,t.$emit("after-follow-change"),s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](1),t.ToastError({title:"無法追隨用戶，請稍後再試"}),t.isProcessing=!1;case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()},deleteFollowing:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isProcessing=!0,s.prev=1,s.next=4,o["a"].deleteFollowing(e);case 4:if(r=s.sent,"OK"===r.statusText){s.next=7;break}throw new Error(r.message);case 7:t.user.isFollowing=!1,t.isProcessing=!1,t.$emit("after-follow-change"),s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](1),t.ToastError({title:"無法取消追隨用戶，請稍後再試"}),t.isProcessing=!1;case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()},toUserProfilePage:function(e){this.isAdmin||this.$router.push({name:"user-all-tweets",params:{user_id:e}})}},created:function(){this.fetchUser()}},f=u,d=(s("b399"),s("2877")),w=Object(d["a"])(f,r,a,!1,null,"73f6027e",null);t["a"]=w.exports},b399:function(e,t,s){"use strict";s("b52f")},b52f:function(e,t,s){}}]);
//# sourceMappingURL=chunk-684804da.6da4729a.js.map